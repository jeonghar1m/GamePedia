(this["webpackJsonpgraduation-project"]=this["webpackJsonpgraduation-project"]||[]).push([[0],{116:function(e,t,c){},117:function(e,t,c){},220:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(18),i=c.n(r),s=(c(116),c(7)),o=(c(117),c(118),c(70)),j=c(9),l="\ub9c8\uc774\ubb34\ube44\ub9ac\uc2a4\ud2b8",d={English:"\uc601\uc5b4",Korean:"\ud55c\uad6d\uc5b4",German:"\ub3c5\uc77c\uc5b4",Spanish:"\uc2a4\ud398\uc778\uc5b4",Japanese:"\uc77c\ubcf8\uc5b4",Mandarin:"\ud45c\uc900 \uc911\uad6d\uc5b4",French:"\ubd88\uc5b4",Dutch:"\ub124\ub35c\ub780\ub4dc\uc5b4",Turkish:"\ud130\ud0a4\uc5b4",Finnish:"\ud540\ub780\ub4dc\uc5b4",Swedish:"\uc2a4\uc6e8\ub374\uc5b4",Russian:"\ub7ec\uc2dc\uc544\uc5b4",Portuguese:"\ud3ec\ub974\ud22c\uac08\uc5b4",Swahili:"\uc2a4\uc640\ud790\ub9ac\uc5b4"},u={US:"\ubbf8\uad6d",KR:"\ub300\ud55c\ubbfc\uad6d",JP:"\uc77c\ubcf8",BE:"\ubca8\uae30\uc5d0",NL:"\ub124\ub35c\ub780\ub4dc",CN:"\uc911\uad6d",TW:"\ub300\ub9cc",GB:"\uc601\uad6d",RU:"\ub7ec\uc2dc\uc544",ZA:"\ub0a8\uc544\ud504\ub9ac\uce74\uacf5\ud654\uad6d",CA:"\uce90\ub098\ub2e4",FR:"\ud504\ub791\uc2a4",MA:"\ubaa8\ub85c\ucf54",KE:"\ucf00\ub0d0"},h="https://api.themoviedb.org/3/movie/",b="http://image.tmdb.org/t/p/",O="a147cdb0b602da72aeb0b0c24935fb91",m=c(2);var p=Object(j.e)((function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)("Loading"),i=Object(s.a)(r,2),j=i[0],d=i[1],u=Object(n.useState)(1),p=Object(s.a)(u,2),x=p[0],f=p[1],v=Object(n.useState)(!0),g=Object(s.a)(v,2),_=g[0],y=g[1],w=Object(n.useCallback)((function(){var e="".concat(h,"popular?api_key=").concat(O,"&language=ko-KR&page=").concat(x);_&&fetch(e).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.results.length;t++)e.results[t].poster_path="".concat(b,"original").concat(e.results[t].poster_path),e.results[t].id="/movie/".concat(e.results[t].id);a([].concat(Object(o.a)(c),Object(o.a)(e.results))),d("Normal"),f(e.page+1),y(!1)})).catch((function(e){d("404")}))}),[O,_,c,x]),S=Object(n.useCallback)((function(){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);Math.max(document.documentElement.scrollTop,document.body.scrollTop)+document.documentElement.clientHeight>=e&&!_&&y(!0)}),[_]);return Object(n.useEffect)((function(){return document.title=l,_&&w(),window.addEventListener("scroll",S,!0),function(){window.removeEventListener("scroll",S,!0)}}),[x,w,S,_]),"Loading"===j?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"Loading..."})})}):"404"===j?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"404 Not Found"})})}):Object(m.jsx)("section",{className:"inner",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"\uc601\ud654 TOP"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:c.map((function(e){return Object(m.jsxs)("div",{className:"col col-xl-3 col-md-6 col-12",children:[Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:e.id,children:Object(m.jsx)("img",{src:e.poster_path,width:"100%",height:"95%",alt:e.title})})}),Object(m.jsx)("div",{className:"movie_name",children:e.title})]},e.title)}))})})]})})})),x=c(66),f=c.n(x),v=c(92);var g=function(e){var t=e.movie,c=new Date(t.release_date);return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"\uae30\ubcf8 \uc815\ubcf4"})}),Object(m.jsxs)("div",{children:[c.getFullYear()," \xb7 ",t.production_countries[0].name," \xb7 ",t.genres[0].name]}),Object(m.jsxs)("div",{children:[t.runtime,"\ubd84"]}),Object(m.jsx)("p",{style:{margin:"1% 0"},children:t.overview})]})};var _=function(e){var t=e.credits,c=e.director;return console.log(c),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"\uac10\ub3c5"})}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:c.map((function(e){return Object(m.jsxs)("div",{className:"col col-xl-3 col-md-6 col-12",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:e.profile_path,width:"100%",height:"95%",alt:e.profile_path})}),Object(m.jsx)("div",{className:"person_name",children:e.name})]},e.name)}))})}),Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"\ucd9c\uc5f0"})}),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:t.cast.map((function(e){return Object(m.jsxs)("div",{className:"col col-xl-3 col-md-6 col-12",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:e.profile_path,width:"100%",height:"95%",alt:e.profile_path})}),Object(m.jsxs)("div",{className:"person_name",children:[e.name," - ",e.character," \uc5ed"]})]},e.name)}))})})]})},y=c(24),w=c.n(y),S=c(12),N=c(224),k=c(226),C=c(225);c(147);var I=function(e){var t=Object(S.c)((function(e){return e.user})),c=Object(n.useState)(!1),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(""),j=Object(s.a)(o,2),l=j[0],d=j[1],u=function(c){c.preventDefault();var n={content:l,writer:t.userData._id,movieId:e.movieId,responseTo:e.comment._id};w.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(d(""),i(!r),e.refreshFunction(t.data.result)):alert("\ucf54\uba58\ud2b8\ub97c \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))},h=[];return e.isLogin&&(h=[Object(m.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),i(!r)},children:"\ub2f5\uae00 \uc4f0\uae30"},"comment-basic-reply-to")]),Object(m.jsxs)("div",{children:[Object(m.jsx)(N.a,{actions:h,author:e.comment.writer.nickname,avatar:Object(m.jsx)(k.a,{src:"/img/user_profile.png",alt:"image"}),content:Object(m.jsx)("p",{children:e.comment.content})}),r&&Object(m.jsxs)("form",{style:{display:"flex"},onSubmit:u,children:[Object(m.jsx)("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){d(e.currentTarget.value)},value:l,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud558\uc138\uc694."}),Object(m.jsx)("br",{}),Object(m.jsx)(C.a,{style:{width:"20%",height:"52px"},onClick:u,children:"\ud655\uc778"})]})]})};var L=function e(t){var c,r=Object(n.useState)(0),i=Object(s.a)(r,2),o=i[0],j=i[1],l=Object(n.useState)(!1),d=Object(s.a)(l,2),u=d[0],h=d[1];return Object(n.useEffect)((function(){var e=0;t.commentLists.map((function(c){c.responseTo===t.parantCommentId&&e++})),j(e)}),[t.commentLists,t.parantCommentId]),Object(m.jsxs)("div",{children:[o>0&&Object(m.jsxs)("a",{href:"",style:{fontSize:"14px",margin:0,color:"gray"},onClick:function(e){e.preventDefault(),h(!u)},children:[o,"\uac1c\uc758 \ub313\uae00 \ub354\ubcf4\uae30"]}),u&&(c=t.parantCommentId,t.commentLists.map((function(n,r){return Object(m.jsx)(a.a.Fragment,{children:n.responseTo===c&&Object(m.jsxs)("div",{style:{width:"80%",marginLeft:"40px"},children:[Object(m.jsx)(I,{refreshFunction:t.refreshFunction,comment:n,movieId:t.movieId}),Object(m.jsx)(e,{refreshFunction:t.refreshFunction,commentLists:t.commentLists,movieId:t.movieId,parantCommentId:n._id})]})})})))]})},E="login_user",T="register_user",F="auth_user";function D(e){var t=w.a.get("/api/users/auth").then((function(e){return e.data}));return{type:F,payload:t}}var R=function(e){var t=Object(S.c)((function(e){return e.user})),c=e.movieId,r=Object(n.useState)(""),i=Object(s.a)(r,2),o=i[0],j=i[1],l=Object(n.useState)(!1),d=Object(s.a)(l,2),u=d[0],h=d[1],b=Object(S.b)();Object(n.useEffect)((function(){O()}));var O=function(){b(D()).then((function(e){e.payload.isAuth?h(!0):h(!1)}))},p=function(n){n.preventDefault();var a={content:o,writer:t.userData._id,movieId:c};w.a.post("/api/comment/saveComment",a).then((function(t){t.data.success?(j(""),e.refreshFunction(t.data.result)):alert("\ucf54\uba58\ud2b8\ub97c \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))};return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("h4",{children:"\ub9ac\ubdf0"})}),e.commentLists&&e.commentLists.map((function(t,n){return!t.responseTo&&Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)(I,{refreshFunction:e.refreshFunction,comment:t,movieId:c,isLogin:u}),Object(m.jsx)(L,{refreshFunction:e.refreshFunction,parantCommentId:t._id,movieId:c,commentLists:e.commentLists})]})})),u&&Object(m.jsxs)("form",{style:{display:"flex"},onSubmit:p,children:[Object(m.jsx)("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){j(e.currentTarget.value)},value:o,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud558\uc138\uc694.",children:Object(m.jsx)("br",{})}),Object(m.jsx)("button",{style:{width:"20%",height:"52px"},onClick:p,children:"\ud655\uc778"})]})]})};var q=function(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),j=o[0],p=o[1],x=Object(n.useState)([]),y=Object(s.a)(x,2),S=y[0],N=y[1],k=Object(n.useState)(!1),C=Object(s.a)(k,2),I=C[0],L=C[1],E=Object(n.useState)(!0),T=Object(s.a)(E,2),F=T[0],D=T[1],q=Object(n.useState)(!0),K=Object(s.a)(q,2),M=K[0],A=K[1],B=Object(n.useState)("Loading"),P=Object(s.a)(B,2),J=P[0],U=P[1],X=Object(n.useState)([]),H=Object(s.a)(X,2),G=H[0],V=H[1],Y=e.match.params.movieId,z={movieId:Y},W="".concat(h).concat(Y,"/credits?api_key=").concat(O),Z="".concat(h).concat(Y,"?api_key=").concat(O,"&language=ko-KR"),Q="".concat(e.match.params.movieId,"/overview");Object(n.useEffect)((function(){$(),w.a.post("/api/comment/getComment",z).then((function(e){e.data.success?(console.log(e.data.comments),V(e.data.comments)):alert("\ucf54\uba58\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]);var $=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F&&fetch(Z).then((function(e){return e.json()})).then((function(e){e.poster_path="".concat(b,"original").concat(e.poster_path),document.title="".concat(e.title," - ").concat(l);for(var t=0;t<e.spoken_languages.length;t++)e.spoken_languages[t].name=d[e.spoken_languages[t].english_name];for(var c=0;c<e.production_countries.length;c++)e.production_countries[c].name=u[e.production_countries[c].iso_3166_1];r(e),U("Normal"),D(!1)})).catch((function(e){U("404")})),M&&fetch(W).then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.cast.length;t++)null!==e.cast[t].profile_path?e.cast[t].profile_path="".concat(b,"original").concat(e.cast[t].profile_path):e.cast[t].profile_path="/img/profile_image_unknown.jpg";for(var c=e.crew.filter((function(e){return"Director"===e.job})),n=0;n<c.length;n++)null!==c[n].profile_path?c[n].profile_path="".concat(b,"original").concat(c[n].profile_path):c[n].profile_path="/img/profile_image_unknown.jpg";p(e),N(c),L(!0),A(!1)})).catch((function(e){U("404")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=""!==a.homepage?Object(m.jsx)("a",{href:a.homepage,target:"_blank",children:Object(m.jsx)("img",{src:a.poster_path,style:{margin:"0%",float:"left"},alt:"",width:"15%"})}):Object(m.jsx)("img",{src:a.poster_path,style:{margin:"0%",float:"left"},alt:"",width:"15%"});return"Loading"===J?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("h2",{children:"Loading..."})}):"404"===J?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("h2",{children:"404 Not Found."})}):Object(m.jsx)("section",{className:"inner",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{width:"100%",display:"inline-block"},children:[ee,Object(m.jsx)("h2",{style:{margin:"17% 0 0 0"},children:a.title})]}),Object(m.jsxs)("div",{id:"overview",children:[Object(m.jsx)("span",{style:{float:"right",margin:"0 1%"},children:Object(m.jsx)("a",{href:Q,children:"\uc790\uc138\ud788\ubcf4\uae30"})}),Object(m.jsx)(g,{movie:a}),Object(m.jsx)("hr",{}),I&&Object(m.jsx)(_,{credits:j,director:S})]}),Object(m.jsx)(R,{refreshFunction:function(e){V(G.concat(e))},commentLists:G,movieId:Y})]})})};var K=function(e){var t=e.match.params.movieId,c=Object(n.useState)([]),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!0),j=Object(s.a)(o,2),p=j[0],x=j[1],f=new Date(r.release_date),v="../".concat(e.match.params.movieId);return Object(n.useEffect)((function(){fetch("".concat(h).concat(t,"?api_key=").concat(O,"&language=ko-KR")).then((function(e){return e.json()})).then((function(e){e.poster_path="".concat(b,"original").concat(e.poster_path),document.title="".concat(e.title," - ").concat(l);for(var t=0;t<e.spoken_languages.length;t++)e.spoken_languages[t].name=d[e.spoken_languages[t].english_name];for(var c=0;c<e.production_countries.length;c++)e.production_countries[c].name=u[e.production_countries[c].iso_3166_1];console.log(e),i(e),x(!1)}))}),[O,t]),Object(m.jsx)("div",{children:p?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:"loading..."})}):Object(m.jsx)("section",{className:"inner",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("a",{href:v,children:"[\uc774\uc804]"})}),Object(m.jsx)("h2",{children:Object(m.jsx)("p",{children:"\uc601\ud654 \uc815\ubcf4"})}),Object(m.jsxs)("div",{id:"overview",children:[Object(m.jsx)("b",{children:"\uc6d0\uc81c"})," ",r.original_title,Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\uac1c\ubd09\uc5f0\ub3c4"})," ",f.getFullYear(),"\ub144",Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\uad6d\uac00"})," ",r.production_countries.map((function(e,t){return Object(m.jsxs)("span",{children:[e.name,t<r.production_countries.length-1?",\xa0":""]},e.name)})),Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\uc7a5\ub974"})," ",r.genres.map((function(e,t){return Object(m.jsxs)("span",{children:[e.name,t<r.genres.length-1?",\xa0":""]},e.name)})),Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\uc0c1\uc601\uc2dc\uac04"})," ",r.runtime,"\ubd84",Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\uc0c1\uc601\uc5b8\uc5b4"})," ",r.spoken_languages.map((function(e,t){return Object(m.jsxs)("span",{children:[e.name,t<r.spoken_languages.length-1?",\xa0":""]},e.name)})),Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"IMDB \ud3c9\uc810"})," ",r.vote_average,Object(m.jsx)("hr",{}),Object(m.jsx)("b",{children:"\ub0b4\uc6a9"}),Object(m.jsx)("br",{}),r.overview]})]})})})},M=c(40);var A=Object(j.e)((function(){Object(n.useEffect)((function(){document.title="\ub85c\uadf8\uc778 - ".concat(l)}),[]);var e=Object(S.b)(),t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),j=o[0],d=o[1];return Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:Object(m.jsx)("form",{method:"post",onSubmit:function(t){t.preventDefault(),e(function(e){var t=w.a.post("/api/users/login",e).then((function(e){return e.data}));return{type:E,payload:t}}({id:a,password:j})).then((function(e){e.payload.loginSuccess?window.location.replace("/"):alert("ID \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}))},children:Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"ID"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"text",name:"id",value:a,onChange:function(e){r(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\ube44\ubc00\ubc88\ud638"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"password",name:"pw",value:j,onChange:function(e){d(e.currentTarget.value)},required:!0})})]})]})}),Object(m.jsx)(M.a,{variant:"secondary",type:"submit",children:"\ub85c\uadf8\uc778"})]})})})})})}));var B=Object(j.e)((function(e){Object(n.useEffect)((function(){document.title="\ud68c\uc6d0\uac00\uc785 - ".concat(l)}),[]);var t=Object(S.b)(),c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(""),j=Object(s.a)(o,2),d=j[0],u=j[1],h=Object(n.useState)(""),b=Object(s.a)(h,2),O=b[0],p=b[1],x=Object(n.useState)(""),f=Object(s.a)(x,2),v=f[0],g=f[1],_=Object(n.useState)(""),y=Object(s.a)(_,2),N=y[0],k=y[1],C=Object(n.useState)(""),I=Object(s.a)(C,2),L=I[0],E=I[1];return Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:Object(m.jsx)("form",{method:"post",onSubmit:function(c){if(c.preventDefault(),N!==L)return alert("\ube44\ubc00\ubc88\ud638\uac00 \uac19\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");t(function(e){var t=w.a.post("/api/users/register",e).then((function(e){return e.data}));return{type:T,payload:t}}({id:r,password:N,nickname:d,name:O,email:v})).then((function(t){t.payload.success?e.history.push("/login"):alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},children:Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"ID"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"text",name:"id",value:r,onChange:function(e){i(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\ub2c9\ub124\uc784"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"text",name:"nickname",value:d,onChange:function(e){u(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\uc774\ub984"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"text",name:"name",value:O,onChange:function(e){p(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\uc774\uba54\uc77c"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"email",name:"mail",value:v,onChange:function(e){g(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\ube44\ubc00\ubc88\ud638"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"password",name:"pw",value:N,onChange:function(e){k(e.currentTarget.value)},required:!0})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"password",name:"pw",value:L,onChange:function(e){E(e.currentTarget.value)},required:!0})})]})]})}),Object(m.jsx)(M.a,{variant:"secondary",type:"submit",children:"\ud68c\uc6d0\uac00\uc785"})]})})})})})}));var P=Object(j.e)((function(){Object(n.useEffect)((function(){e(D()).then((function(e){r(e.payload.nickname),document.title="".concat(e.payload.nickname,"\ub2d8\uc758 \ub9c8\uc774\ud398\uc774\uc9c0 - ").concat(l)}))}),[]);var e=Object(S.b)(),t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],r=c[1];return Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:"inner",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"/img/user_profile.png"}),Object(m.jsx)("h1",{children:a})]})})})}));var J=Object(j.e)((function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],r=function(e){e.preventDefault(),window.location.replace("/search/".concat(c))};return Object(n.useEffect)((function(){document.title="\uc601\ud654 \uac80\uc0c9 - ".concat(l)}),[]),Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("form",{method:"post",onSubmit:r,children:Object(m.jsx)("fieldset",{children:Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"\uac80\uc0c9"}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"text",value:c,onChange:function(e){a(e.target.value)},required:!0})}),Object(m.jsx)(M.a,{variant:"secondary",onSubmit:r,type:"submit",children:"\ud655\uc778"})]})})})})})})})})}));var U=Object(j.e)((function(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)("Loading"),o=Object(s.a)(i,2),j=o[0],d=o[1],u=e.match.params.searchKeyword;return Object(n.useEffect)((function(){!function(){var e="https://api.themoviedb.org/3/search/movie?api_key=".concat(O,"&language=ko-KR&query=").concat(u);fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),r(e.results);for(var t=0;t<e.results.length;t++)e.results[t].poster_path="".concat(b,"original").concat(e.results[t].poster_path),e.results[t].id="/movie/".concat(e.results[t].id);d("Normal")})).catch((function(e){d("404")}))}(),document.title="".concat(u,"\uc5d0 \ub300\ud55c \uac80\uc0c9 \uacb0\uacfc - ").concat(l)}),[]),"Loading"===j?Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"Loading..."})})}):Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:"inner",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("h2",{children:"\uac80\uc0c9 \uacb0\uacfc"}),a.map((function(e){return Object(m.jsxs)("div",{className:"col col-xl-3 col-md-6 col-12",children:[Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:e.id,children:Object(m.jsx)("img",{src:e.poster_path,width:"100%",height:"95%",alt:e.title})})}),Object(m.jsx)("div",{className:"movie_name",children:e.title})]},e.title)}))]})})})})})),X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function a(a){var r=Object(S.b)();return Object(n.useEffect)((function(){r(D()).then((function(e){e.payload.isAuth?c&&!e.payload.isAdmin?a.history.push("/"):t||a.history.push("/"):t&&a.history.push("/login")}))})),Object(m.jsx)(e,{})}return a},H=c(107),G=c(106);var V=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(S.b)();Object(n.useEffect)((function(){o()}));var o=function(){i(D()).then((function(e){e.payload.isAuth?r(!0):r(!1)}))},l=a?Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"element",children:Object(m.jsx)("a",{href:"",onClick:function(){return w.a.get("api/users/logout")},children:"\ub85c\uadf8\uc544\uc6c3"})}),Object(m.jsx)("span",{className:"element",children:Object(m.jsx)("a",{href:"/mypage",children:Object(m.jsx)(G.a,{})})})]}):Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"element",children:Object(m.jsx)("a",{href:"/login",children:"\ub85c\uadf8\uc778"})}),Object(m.jsx)("span",{className:"element",children:Object(m.jsx)("a",{href:"/register",children:"\ud68c\uc6d0\uac00\uc785"})})]});return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("header",{children:Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"inner",children:[Object(m.jsx)("span",{id:"logo",children:Object(m.jsx)("h1",{children:Object(m.jsx)("a",{href:"/",children:"MyMovieList"})})}),Object(m.jsx)("div",{id:"menu"}),Object(m.jsxs)("div",{id:"log",children:[Object(m.jsx)("a",{href:"/search",children:Object(m.jsx)(H.a,{})}),l]})]})})}),Object(m.jsx)(j.a,{exact:!0,path:"/",component:p}),Object(m.jsx)(j.a,{exact:!0,path:"/movie/:movieId",component:q}),Object(m.jsx)(j.a,{exact:!0,path:"/movie/:movieId/overview",component:K}),Object(m.jsx)(j.a,{exact:!0,path:"/search",component:J}),Object(m.jsx)(j.a,{exact:!0,path:"/search/:searchKeyword",component:U}),Object(m.jsx)(j.a,{exact:!0,path:"/login",component:X(A,!1)}),Object(m.jsx)(j.a,{exact:!0,path:"/register",component:X(B,!1)}),Object(m.jsx)(j.a,{exact:!0,path:"/mypage",component:X(P,!0)}),Object(m.jsxs)("footer",{children:[Object(m.jsx)("hr",{}),"\xa9 2021 MyMovieList"]})]})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,227)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},z=c(30),W=c(45),Z=c(108),Q=c.n(Z),$=c(109),ee=c(35),te=Object(W.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(ee.a)(Object(ee.a)({},e),{},{loginSuccess:t.payload});case T:return Object(ee.a)(Object(ee.a)({},e),{},{register:t.payload});case F:return Object(ee.a)(Object(ee.a)({},e),{},{userData:t.payload});default:return e}}}),ce=te,ne=Object(W.a)(Q.a,$.a)(W.c);i.a.render(Object(m.jsx)(S.a,{store:ne(ce,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(m.jsx)(z.a,{children:Object(m.jsx)(V,{})})}),document.getElementById("root")),Y()}},[[220,1,2]]]);
//# sourceMappingURL=main.3b8f26ba.chunk.js.map